<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Poker Battle - Claude vs GPT</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #0d0d0d;
            color: #fff;
            overflow-x: hidden;
        }

        .container {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
            padding: 20px;
            max-width: 1800px;
            margin: 0 auto;
            min-height: 100vh;
        }

        /* Terminal Section */
        .terminal {
            background: #1a1a1a;
            border: 2px solid #333;
            border-radius: 10px;
            padding: 20px;
            overflow-y: auto;
            max-height: 90vh;
        }

        .terminal h2 {
            color: #4a9eff;
            margin-bottom: 15px;
            font-size: 18px;
            border-bottom: 2px solid #4a9eff;
            padding-bottom: 10px;
        }

        .log-entry {
            color: #00ff00;
            font-size: 13px;
            margin: 5px 0;
            line-height: 1.6;
        }

        /* Main Game Section */
        .game-section {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .game-header {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border: 3px solid #ffd700;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .game-header h1 {
            font-size: 32px;
            color: #ffd700;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #ffd700;
        }

        .hand-info {
            color: #aaa;
            font-size: 16px;
            margin-top: 10px;
        }

        .poker-table {
            background: #1a1a1a;
            border: 3px solid #333;
            border-radius: 20px;
            padding: 30px;
        }

        .player-section {
            background: #2d2d2d;
            border-radius: 15px;
            padding: 20px;
            margin: 15px 0;
            position: relative;
        }

        .player-section.claude {
            border: 3px solid #4a9eff;
        }

        .player-section.gpt {
            border: 3px solid #ff6b35;
        }

        .player-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .player-name.claude {
            color: #4a9eff;
        }

        .player-name.gpt {
            color: #ff6b35;
        }

        .player-stack {
            font-size: 18px;
            color: #00ff00;
            margin-bottom: 15px;
        }

        .player-cards {
            font-size: 48px;
            letter-spacing: 10px;
            margin: 10px 0;
        }

        .community-section {
            background: #0f4d0f;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
        }

        .community-title {
            font-size: 18px;
            color: #ffd700;
            margin-bottom: 15px;
        }

        .community-cards {
            font-size: 56px;
            letter-spacing: 15px;
            margin: 20px 0;
            min-height: 80px;
        }

        .pot-amount {
            font-size: 28px;
            color: #00ff00;
            margin-top: 15px;
            font-weight: bold;
        }

        .action-display {
            background: #1a1a1a;
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 15px;
            margin: 20px 0;
            text-align: center;
            font-size: 16px;
            color: #ffd700;
        }

        .countdown {
            font-size: 24px;
            color: #ff6b35;
            font-weight: bold;
        }

        /* Betting Section */
        .betting-section {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border: 3px solid #ffd700;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            position: relative;
        }

        .betting-section h3 {
            font-size: 24px;
            color: #ffd700;
            margin-bottom: 15px;
        }

        .betting-info {
            color: #aaa;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .bet-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .bet-btn {
            padding: 15px 30px;
            font-size: 18px;
            font-family: 'Courier New', monospace;
            border: 2px solid;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            opacity: 0.5;
        }

        .bet-btn.claude {
            background: #1a1a1a;
            color: #4a9eff;
            border-color: #4a9eff;
        }

        .bet-btn.gpt {
            background: #1a1a1a;
            color: #ff6b35;
            border-color: #ff6b35;
        }

        .coming-soon {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #ffd700;
            color: #000;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }

        .odds-display {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            font-size: 14px;
        }

        .odds-item {
            padding: 10px;
        }

        /* Stats Section */
        .stats-section {
            background: #1a1a1a;
            border: 2px solid #333;
            border-radius: 10px;
            padding: 20px;
        }

        .stats-section h2 {
            color: #ffd700;
            margin-bottom: 15px;
            font-size: 18px;
            border-bottom: 2px solid #ffd700;
            padding-bottom: 10px;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #333;
            font-size: 14px;
        }

        .stat-label {
            color: #aaa;
        }

        .stat-value {
            color: #00ff00;
            font-weight: bold;
        }

        .stat-value.claude {
            color: #4a9eff;
        }

        .stat-value.gpt {
            color: #ff6b35;
        }

        /* Thoughts Section */
        .thoughts-section {
            background: #1a1a1a;
            border: 2px solid #333;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            min-height: 200px;
        }

        .thoughts-section h2 {
            color: #ff6b35;
            margin-bottom: 15px;
            font-size: 18px;
            border-bottom: 2px solid #ff6b35;
            padding-bottom: 10px;
        }

        .thought-entry {
            color: #ccc;
            font-size: 13px;
            margin: 8px 0;
            font-style: italic;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                padding: 10px;
            }

            .terminal {
                display: none;
            }

            .game-header h1 {
                font-size: 24px;
            }

            .player-cards {
                font-size: 36px;
            }

            .community-cards {
                font-size: 42px;
            }

            .bet-buttons {
                flex-direction: column;
            }

            .bet-btn {
                width: 100%;
            }
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .thinking {
            animation: pulse 1.5s infinite;
        }

        .winner-announcement {
            background: #ffd700;
            color: #000;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Terminal Section (Left) -->
        <div class="terminal">
            <h2>üì° LIVE TERMINAL</h2>
            <div id="logs"></div>
        </div>

        <!-- Main Game Section (Center) -->
        <div class="game-section">
            <!-- Header -->
            <div class="game-header">
                <h1>üÉè AI POKER BATTLE</h1>
                <div class="hand-info">
                    <span id="hand-number">Hand #0</span> ‚Ä¢ 
                    <span id="round-info">Round: Waiting</span>
                </div>
            </div>

            <!-- Poker Table -->
            <div class="poker-table">
                <!-- Claude -->
                <div class="player-section claude">
                    <div class="player-name claude">CLAUDE HAIKU 4.5</div>
                    <div class="player-stack">Stack: $<span id="claude-stack">1000</span></div>
                    <div class="player-cards" id="claude-cards">üÇ† üÇ†</div>
                </div>

                <!-- Community Cards -->
                <div class="community-section">
                    <div class="community-title">COMMUNITY CARDS</div>
                    <div class="community-cards" id="community-cards">üÇ† üÇ† üÇ† üÇ† üÇ†</div>
                    <div class="pot-amount">Pot: $<span id="pot">0</span></div>
                </div>

                <!-- GPT -->
                <div class="player-section gpt">
                    <div class="player-name gpt">GPT-4O-MINI</div>
                    <div class="player-stack">Stack: $<span id="gpt-stack">1000</span></div>
                    <div class="player-cards" id="gpt-cards">üÇ† üÇ†</div>
                </div>

                <!-- Action Display -->
                <div class="action-display" id="action-display">
                    <span id="last-action">Initializing game...</span>
                    <div class="countdown" id="countdown"></div>
                </div>
            </div>

            <!-- Betting Section -->
            <div class="betting-section">
                <div class="coming-soon">COMING SOON</div>
                <h3>üé≤ PLACE YOUR BETS</h3>
                <div class="betting-info">Bets only in $AIWARS token</div>
                <div class="bet-buttons">
                    <button class="bet-btn claude">BET CLAUDE</button>
                    <button class="bet-btn gpt">BET GPT</button>
                </div>
                <div class="odds-display">
                    <div class="odds-item">
                        <strong>Claude Odds:</strong> <span id="claude-odds">2.0x</span>
                    </div>
                    <div class="odds-item">
                        <strong>GPT Odds:</strong> <span id="gpt-odds">2.0x</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Section -->
        <div>
            <!-- Stats -->
            <div class="stats-section">
                <h2>üìä BATTLE STATISTICS</h2>
                <div class="stat-item">
                    <span class="stat-label">Claude Wins</span>
                    <span class="stat-value claude" id="claude-wins">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">GPT Wins</span>
                    <span class="stat-value gpt" id="gpt-wins">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Claude Win Rate</span>
                    <span class="stat-value" id="claude-winrate">0%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">GPT Win Rate</span>
                    <span class="stat-value" id="gpt-winrate">0%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Biggest Pot</span>
                    <span class="stat-value" id="biggest-pot">$0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Total Hands</span>
                    <span class="stat-value" id="total-hands">0</span>
                </div>
            </div>

            <!-- AI Thoughts -->
            <div class="thoughts-section">
                <h2>ü§î AI THOUGHTS</h2>
                <div id="thoughts"></div>
            </div>
        </div>
    </div>

    <script>
        // Auto-refresh game state
        function updateGameState() {
            fetch('/api/state')
                .then(response => response.json())
                .then(data => {
                    const state = data.game_state;
                    
                    // Update hand info
                    document.getElementById('hand-number').textContent = `Hand #${state.hand_number}`;
                    document.getElementById('round-info').textContent = `Round: ${state.round}`;
                    
                    // Update stacks
                    document.getElementById('claude-stack').textContent = state.claude_stack;
                    document.getElementById('gpt-stack').textContent = state.gpt_stack;
                    
                    // Update pot
                    document.getElementById('pot').textContent = state.pot;
                    
                    // Update community cards
                    const communityHTML = state.community_cards.length > 0 
                        ? state.community_cards.join(' ')
                        : 'üÇ† üÇ† üÇ† üÇ† üÇ†';
                    document.getElementById('community-cards').innerHTML = communityHTML;
                    
                    // Update action display
                    let actionText = state.last_action || 'Waiting for next hand...';
                    if (state.countdown > 0) {
                        document.getElementById('countdown').textContent = `Next hand in: ${state.countdown}s`;
                    } else {
                        document.getElementById('countdown').textContent = '';
                    }
                    document.getElementById('last-action').textContent = actionText;
                    
                    // Update stats
                    document.getElementById('claude-wins').textContent = state.claude_wins;
                    document.getElementById('gpt-wins').textContent = state.gpt_wins;
                    document.getElementById('total-hands').textContent = state.total_hands;
                    
                    const totalGames = state.claude_wins + state.gpt_wins;
                    if (totalGames > 0) {
                        document.getElementById('claude-winrate').textContent = 
                            ((state.claude_wins / totalGames) * 100).toFixed(1) + '%';
                        document.getElementById('gpt-winrate').textContent = 
                            ((state.gpt_wins / totalGames) * 100).toFixed(1) + '%';
                        
                        // Update odds (inverse of win rate)
                        const claudeOdds = state.gpt_wins > 0 ? (totalGames / state.claude_wins).toFixed(2) : '2.0';
                        const gptOdds = state.claude_wins > 0 ? (totalGames / state.gpt_wins).toFixed(2) : '2.0';
                        document.getElementById('claude-odds').textContent = claudeOdds + 'x';
                        document.getElementById('gpt-odds').textContent = gptOdds + 'x';
                    }
                    
                    // Update logs
                    const logsHTML = data.logs.map(log => 
                        `<div class="log-entry">${log}</div>`
                    ).join('');
                    document.getElementById('logs').innerHTML = logsHTML;
                    
                    // Auto-scroll logs
                    const logsDiv = document.getElementById('logs');
                    logsDiv.scrollTop = logsDiv.scrollHeight;
                    
                    // Update thoughts
                    const thoughtsHTML = data.thoughts.map(thought => 
                        `<div class="thought-entry">${thought}</div>`
                    ).join('');
                    document.getElementById('thoughts').innerHTML = thoughtsHTML;
                })
                .catch(error => console.error('Error fetching state:', error));
        }

        // Update every 2 seconds
        setInterval(updateGameState, 2000);
        updateGameState(); // Initial load
    </script>
</body>
</html>
